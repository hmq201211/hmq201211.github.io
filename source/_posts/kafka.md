---
title: kafka  
date: 2020-12-21  
tags:
- Kafka  

categories:
- Kafka
---

# 优势
1. 天生支持分布式
2. 磁盘存储数据 持久化（但是有保存策略，包括时间和空间）
3. 流处理模式

# 为什么选择：
1. 多生产者和多消费者模式
2. 天生持久化
3. 高伸缩性
4. 高性能

# 应用场景：
1. 活动追踪
2. 传递消息
3. 收集指标和日志
4. 提交日志
5. 流处理

# 基础部分
1. 消息: 字符数组
2. 键:  可选项
3. 批次: 提高效率 (权衡: 时间延迟与吞吐量之间的关系)
4. 主题: 数据库中的表
5. 分区: 相当于分表
6. 生产者: 写消息
7. 消费者: 拉取消息
8. 偏移量: 每个分区消费到的index
9. 消费群组: 每个分区只能被消费群组的一个消费者消费, 但是一个消费者可以消费多个分区. 如果消费者down了, 则由其他的消费者分担
10. broker和集群: 集群复制, 消息首先传递到每个Broker的特定主题的特点分区的首领, 然后其他的Broker的相同主题的相同分区获得一份复制, 如果首领节点down了, 则其他节点充当首领
![kafkaBroker与集群][1]




[1]: ../../../../images/picture/Broker与集群.png
