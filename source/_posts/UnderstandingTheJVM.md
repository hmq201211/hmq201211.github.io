---
title: UnderstandingTheJVM
date: 2021-01-12  
tags:
- JVM
- 虚拟机
---

# 运行时数据区
- 虚拟机栈（线程隔离）
- 本地方法栈（线程隔离）
- 方法区（所有线程共享）
- 堆内存（所有线程共享）
- 程序计数器（线程隔离）

## 程序计数器
当前线程执行的字节码的行号指示器，字节码解释器通过改变这个计数器的值来读取下一条要执行的字节码指令   
是程序控制流的指示器，分支，循环，跳转，异常处理，线程切换都需要这个计数器   
如果执行的是Java代码，则指向了虚拟机字节码的指令的地址  
如果执行的本地方法，则为Undefined  
***在虚拟机规范中唯一不会OOM情况的区域***



## 虚拟机栈
生命周期和线程相同  
描述的Java方法执行时的线程内存模型  
每个方法执行的时候，都会同步创建一个栈帧：
- 局部变量表
- 操作数栈
- 动态链接
- 方法出口
    
